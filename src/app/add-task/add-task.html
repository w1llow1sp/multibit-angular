<div class="add-task-container">
  <div class="add-task-header">
    <h3>Добавить новую задачу</h3>
  </div>

  <form [formGroup]="taskForm" (ngSubmit)="onSubmit()" class="add-task-form">
    <div class="form-group">
      <label for="title" class="form-label">Название задачи *</label>
      <input
        type="text"
        id="title"
        class="form-control"
        formControlName="title"
        placeholder="Введите название задачи"
        [class.is-invalid]="title?.invalid && (title?.dirty || title?.touched)">

      <div class="error-messages" *ngIf="title?.invalid && (title?.dirty || title?.touched)">
        <div class="error-message" *ngIf="title?.hasError('required')">
          Название задачи обязательно для заполнения
        </div>
        <div class="error-message" *ngIf="title?.hasError('minlength')">
          Название должно содержать минимум 3 символа
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="description" class="form-label">Описание (необязательно)</label>
      <textarea
        id="description"
        class="form-control"
        formControlName="description"
        rows="4"
        placeholder="Введите описание задачи">
      </textarea>
    </div>

    <div class="form-actions">
      <button
        type="submit"
        class="btn btn-primary"
        [disabled]="taskForm.invalid || isSubmitting">
        {{ isSubmitting ? 'Добавление...' : 'Добавить задачу' }}
      </button>

      <button
        type="button"
        class="btn btn-secondary"
        (click)="taskForm.reset()">
        Очистить
      </button>
    </div>
  </form>
</div>
